{% extends 'layout.html' %}
{% block title %}Bots{% endblock %}
{% block og_title %}Bots{% endblock %}
{% block style %}
  .bots-index {
    display: grid;
    gap: 18px;
  }

  .bots-intro {
    margin: 0;
    color: var(--font-color-shade);
  }

  .bots-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 14px;
  }

  .bot-type-card {
    background: var(--background-border);
    border: 1px solid var(--border-color);
    border-radius: 14px;
    padding: 18px;
    transition: border-color .2s ease, transform .2s ease;
  }

  .bot-type-card:hover {
    transform: translateY(-2px);
    border-color: var(--site-accent);
  }

  .bot-type-card h3 {
    margin: 0 0 8px;
    font-size: 1.08rem;
  }

  .bot-type-meta {
    margin: 0 0 14px;
    color: var(--font-color-shade);
    font-size: .95rem;
  }

  .bot-type-links {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
  }

  .bot-type-link {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    border: 1px solid var(--border-color);
    background: var(--header);
    color: var(--font-color);
    border-radius: 10px;
    padding: 8px 12px;
    text-decoration: none;
    font-weight: 700;
  }

  .bot-type-link:hover {
    border-color: var(--site-accent);
    color: var(--font-color);
  }

  .bots-empty {
    border: 1px solid var(--border-color);
    background: var(--background-border);
    border-radius: 12px;
    padding: 20px;
    color: var(--font-color-shade);
  }
{% endblock %}
{% block body %}
  <main class="post">
    <article>
      <h1 class="post-title">Chatbots</h1>
      <div class="post-content bots-index">
        <p class="bots-intro">Browse hosted bot stacks and open each page for linked channels and live bot instances.</p>
        {% if bots %}
          <div class="bots-grid">
            {% for bot in bots %}
              <section class="bot-type-card">
                <h3>{{ bot.title }}</h3>
                <p class="bot-type-meta">{{ bot.type_list.count }} linked channel{% if bot.type_list.count != 1 %}s{% endif %}</p>
                <div class="bot-type-links">
                  <a class="bot-type-link" href="{{ bot.slug }}">
                    <i class="fa-solid fa-link"></i>
                    <span>Open</span>
                  </a>
                  {% if bot.github_repo %}
                    <a class="bot-type-link" href="{{ bot.github_repo }}" target="_blank" rel="noopener noreferrer">
                      <i class="fa-brands fa-github"></i>
                      <span>Repo</span>
                    </a>
                  {% endif %}
                </div>
              </section>
            {% endfor %}
          </div>
        {% else %}
          <div class="bots-empty">
            No bot categories are available yet.
          </div>
        {% endif %}
      </div>
    </article>
  </main>
{% endblock %}
